<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÁæéÂÆπÂÆ§‰∫àÁ¥Ñ„Ç¢„Éó„É™ - „É¢„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f7;
            overflow-x: hidden;
        }
        
        .phone-container {
            width: 375px;
            height: 812px;
            margin: 20px auto;
            background: #000;
            border-radius: 40px;
            padding: 8px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }
        
        .screen {
            width: 100%;
            height: 100%;
            background: #fff;
            border-radius: 32px;
            position: relative;
            overflow: hidden;
        }
        
        .status-bar {
            height: 44px;
            background: #fff;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            font-size: 14px;
            font-weight: 600;
        }
        
        .header {
            height: 60px;
            background: #007AFF;
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            font-size: 18px;
            font-weight: 600;
        }
        
        .back-btn {
            background: none;
            border: none;
            color: white;
            font-size: 16px;
            cursor: pointer;
        }
        
        .page {
            display: none;
            height: calc(100% - 104px);
            overflow-y: auto;
        }
        
        .page.active {
            display: block;
        }
        
        .content {
            padding: 20px;
        }
        
        .step-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            gap: 8px;
        }
        
        .step {
            width: 40px;
            height: 4px;
            background: #E5E5EA;
            border-radius: 2px;
        }
        
        .step.active {
            background: #007AFF;
        }
        
        .step.completed {
            background: #34C759;
        }
        
        .menu-item, .option-item, .staff-item, .time-slot {
            background: white;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .menu-item:hover, .option-item:hover, .staff-item:hover, .time-slot:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0,0,0,0.15);
        }
        
        .menu-item.selected, .option-item.selected, .staff-item.selected, .time-slot.selected {
            border: 2px solid #007AFF;
            background: #F0F8FF;
        }
        
        .menu-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .menu-meta {
            color: #8E8E93;
            font-size: 14px;
            display: flex;
            justify-content: space-between;
        }
        
        .option-checkbox {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid #C7C7CC;
            border-radius: 4px;
            position: relative;
        }
        
        .checkbox.checked {
            background: #007AFF;
            border-color: #007AFF;
        }
        
        .checkbox.checked::after {
            content: '‚úì';
            color: white;
            position: absolute;
            top: -2px;
            left: 2px;
            font-size: 14px;
        }
        
        .staff-avatar {
            width: 50px;
            height: 50px;
            border-radius: 25px;
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin-right: 12px;
        }
        
        .staff-info {
            flex: 1;
        }
        
        .staff-name {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .staff-skills {
            color: #8E8E93;
            font-size: 12px;
        }
        
        .date-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
            margin: 20px 0;
        }
        
        .date-item {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            box-shadow: 0 1px 4px rgba(0,0,0,0.1);
        }
        
        .date-item.disabled {
            background: #F2F2F7;
            color: #C7C7CC;
            cursor: not-allowed;
        }
        
        .date-item.selected {
            background: #007AFF;
            color: white;
        }
        
        .time-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }
        
        .time-slot {
            text-align: center;
            padding: 12px;
            font-size: 16px;
            font-weight: 500;
        }
        
        .time-slot.unavailable {
            background: #F2F2F7;
            color: #C7C7CC;
            cursor: not-allowed;
        }
        
        .continue-btn {
            position: fixed;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            width: 335px;
            height: 50px;
            background: #007AFF;
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .continue-btn:disabled {
            background: #C7C7CC;
            cursor: not-allowed;
        }
        
        .continue-btn:hover:not(:disabled) {
            background: #0056CC;
        }
        
        .summary-card {
            background: white;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        }
        
        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid #F2F2F7;
        }
        
        .summary-row:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
            font-weight: 600;
            font-size: 18px;
        }
        
        .duration-info {
            background: #F0F8FF;
            border-radius: 8px;
            padding: 12px;
            margin: 16px 0;
            text-align: center;
            color: #007AFF;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <div class="phone-container">
        <div class="screen">
            <div class="status-bar">
                <span>9:41</span>
                <span>üîã100%</span>
            </div>
            
            <!-- „É°„Éã„É•„ÉºÈÅ∏ÊäûÁîªÈù¢ -->
            <div class="page active" id="menu-page">
                <div class="header">
                    <span></span>
                    <span>„É°„Éã„É•„ÉºÈÅ∏Êäû</span>
                    <span></span>
                </div>
                <div class="content">
                    <div class="step-indicator">
                        <div class="step active"></div>
                        <div class="step"></div>
                        <div class="step"></div>
                        <div class="step"></div>
                        <div class="step"></div>
                    </div>
                    
                    <div class="menu-item" onclick="selectMenu('cut', '„Ç´„ÉÉ„Éà', 30, 3000)">
                        <div class="menu-title">„Ç´„ÉÉ„Éà</div>
                        <div class="menu-meta">
                            <span>30ÂàÜ</span>
                            <span>¬•3,000</span>
                        </div>
                    </div>
                    
                    <div class="menu-item" onclick="selectMenu('color', '„Ç´„É©„Éº', 120, 8000)">
                        <div class="menu-title">„Ç´„É©„Éº</div>
                        <div class="menu-meta">
                            <span>120ÂàÜ</span>
                            <span>¬•8,000</span>
                        </div>
                    </div>
                    
                    <div class="menu-item" onclick="selectMenu('perm', '„Éë„Éº„Éû', 150, 12000)">
                        <div class="menu-title">„Éë„Éº„Éû</div>
                        <div class="menu-meta">
                            <span>150ÂàÜ</span>
                            <span>¬•12,000</span>
                        </div>
                    </div>
                    
                    <div class="menu-item" onclick="selectMenu('cut-color', '„Ç´„ÉÉ„ÉàÔºã„Ç´„É©„Éº', 150, 10000)">
                        <div class="menu-title">„Ç´„ÉÉ„ÉàÔºã„Ç´„É©„Éº</div>
                        <div class="menu-meta">
                            <span>150ÂàÜ</span>
                            <span>¬•10,000</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- „Ç™„Éó„Ç∑„Éß„É≥ÈÅ∏ÊäûÁîªÈù¢ -->
            <div class="page" id="option-page">
                <div class="header">
                    <button class="back-btn" onclick="goBack()">&larr;</button>
                    <span>„Ç™„Éó„Ç∑„Éß„É≥ÈÅ∏Êäû</span>
                    <span></span>
                </div>
                <div class="content">
                    <div class="step-indicator">
                        <div class="step completed"></div>
                        <div class="step active"></div>
                        <div class="step"></div>
                        <div class="step"></div>
                        <div class="step"></div>
                    </div>
                    
                    <div class="duration-info" id="duration-info">
                        ÁèæÂú®„ÅÆÊâÄË¶ÅÊôÇÈñì: <span id="total-duration">30ÂàÜ</span>
                    </div>
                    
                    <div class="option-item" onclick="toggleOption('treatment', '„Éà„É™„Éº„Éà„É°„É≥„Éà', 30, 2000)">
                        <div class="option-checkbox">
                            <div class="checkbox" id="treatment-checkbox"></div>
                            <div>
                                <div class="menu-title">„Éà„É™„Éº„Éà„É°„É≥„Éà</div>
                                <div class="menu-meta">
                                    <span>+30ÂàÜ</span>
                                    <span>+¬•2,000</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="option-item" onclick="toggleOption('head-spa', '„Éò„ÉÉ„Éâ„Çπ„Éë', 20, 1500)">
                        <div class="option-checkbox">
                            <div class="checkbox" id="head-spa-checkbox"></div>
                            <div>
                                <div class="menu-title">„Éò„ÉÉ„Éâ„Çπ„Éë</div>
                                <div class="menu-meta">
                                    <span>+20ÂàÜ</span>
                                    <span>+¬•1,500</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="option-item" onclick="toggleOption('eyebrow', 'Áúâ„Ç´„ÉÉ„Éà', 15, 800)">
                        <div class="option-checkbox">
                            <div class="checkbox" id="eyebrow-checkbox"></div>
                            <div>
                                <div class="menu-title">Áúâ„Ç´„ÉÉ„Éà</div>
                                <div class="menu-meta">
                                    <span>+15ÂàÜ</span>
                                    <span>+¬•800</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="continue-btn" onclick="goToStaff()">„Çπ„Çø„ÉÉ„ÉïÈÅ∏Êäû„Å∏</button>
            </div>
            
            <!-- „Çπ„Çø„ÉÉ„ÉïÈÅ∏ÊäûÁîªÈù¢ -->
            <div class="page" id="staff-page">
                <div class="header">
                    <button class="back-btn" onclick="goBack()">&larr;</button>
                    <span>„Çπ„Çø„ÉÉ„ÉïÈÅ∏Êäû</span>
                    <span></span>
                </div>
                <div class="content">
                    <div class="step-indicator">
                        <div class="step completed"></div>
                        <div class="step completed"></div>
                        <div class="step active"></div>
                        <div class="step"></div>
                        <div class="step"></div>
                    </div>
                    
                    <div class="staff-item" onclick="selectStaff('tanaka')">
                        <div style="display: flex; align-items: center;">
                            <div class="staff-avatar">„Çø</div>
                            <div class="staff-info">
                                <div class="staff-name">„Çø„Éä„Ç´ „Éü„Ç´</div>
                                <div class="staff-skills">„Ç´„ÉÉ„Éà„Éª„Ç´„É©„Éº„Éª„Éë„Éº„Éû</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="staff-item" onclick="selectStaff('sato')">
                        <div style="display: flex; align-items: center;">
                            <div class="staff-avatar" style="background: linear-gradient(45deg, #FF9A9E, #FECFEF);">„Çµ</div>
                            <div class="staff-info">
                                <div class="staff-name">„Çµ„Éà„Ç¶ „Éè„Éä„Ç≥</div>
                                <div class="staff-skills">„Ç´„ÉÉ„Éà„Éª„Ç´„É©„Éº„Éª„Éà„É™„Éº„Éà„É°„É≥„Éà</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="staff-item" onclick="selectStaff('yamada')">
                        <div style="display: flex; align-items: center;">
                            <div class="staff-avatar" style="background: linear-gradient(45deg, #A8EDEA, #FED6E3);">„É§</div>
                            <div class="staff-info">
                                <div class="staff-name">„É§„Éû„ÉÄ „Çø„É≠„Ç¶</div>
                                <div class="staff-skills">„É°„É≥„Ç∫„Ç´„ÉÉ„Éà„ÉªÁúâ„Ç´„ÉÉ„Éà</div>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="continue-btn" id="staff-continue-btn" disabled onclick="goToDate()">Êó•‰ªòÈÅ∏Êäû„Å∏</button>
            </div>
            
            <!-- Êó•‰ªòÈÅ∏ÊäûÁîªÈù¢ -->
            <div class="page" id="date-page">
                <div class="header">
                    <button class="back-btn" onclick="goBack()">&larr;</button>
                    <span>Êó•‰ªòÈÅ∏Êäû</span>
                    <span></span>
                </div>
                <div class="content">
                    <div class="step-indicator">
                        <div class="step completed"></div>
                        <div class="step completed"></div>
                        <div class="step completed"></div>
                        <div class="step active"></div>
                        <div class="step"></div>
                    </div>
                    
                    <div style="text-align: center; margin-bottom: 20px;">
                        <h3>2025Âπ¥1Êúà</h3>
                    </div>
                    
                    <div class="date-grid" id="date-grid">
                        <!-- Êó•‰ªò„ÅØ JavaScript „ÅßÁîüÊàê -->
                    </div>
                </div>
                <button class="continue-btn" id="date-continue-btn" disabled onclick="goToTime()">ÊôÇÈñìÈÅ∏Êäû„Å∏</button>
            </div>
            
            <!-- ÊôÇÈñìÈÅ∏ÊäûÁîªÈù¢ -->
            <div class="page" id="time-page">
                <div class="header">
                    <button class="back-btn" onclick="goBack()">&larr;</button>
                    <span>ÊôÇÈñìÈÅ∏Êäû</span>
                    <span></span>
                </div>
                <div class="content">
                    <div class="step-indicator">
                        <div class="step completed"></div>
                        <div class="step completed"></div>
                        <div class="step completed"></div>
                        <div class="step completed"></div>
                        <div class="step active"></div>
                    </div>
                    
                    <div style="text-align: center; margin-bottom: 20px;">
                        <h3 id="selected-date-display"></h3>
                    </div>
                    
                    <div class="time-grid" id="time-grid">
                        <!-- ÊôÇÈñì„ÅØ JavaScript „ÅßÁîüÊàê -->
                    </div>
                </div>
                <button class="continue-btn" id="time-continue-btn" disabled onclick="goToConfirm()">‰∫àÁ¥ÑÁ¢∫Ë™ç„Å∏</button>
            </div>
            
            <!-- Á¢∫Ë™çÁîªÈù¢ -->
            <div class="page" id="confirm-page">
                <div class="header">
                    <button class="back-btn" onclick="goBack()">&larr;</button>
                    <span>‰∫àÁ¥ÑÁ¢∫Ë™ç</span>
                    <span></span>
                </div>
                <div class="content">
                    <div class="summary-card">
                        <div class="summary-row">
                            <span>„É°„Éã„É•„Éº</span>
                            <span id="confirm-menu"></span>
                        </div>
                        <div class="summary-row">
                            <span>„Ç™„Éó„Ç∑„Éß„É≥</span>
                            <span id="confirm-options"></span>
                        </div>
                        <div class="summary-row">
                            <span>„Çπ„Çø„ÉÉ„Éï</span>
                            <span id="confirm-staff"></span>
                        </div>
                        <div class="summary-row">
                            <span>Êó•ÊôÇ</span>
                            <span id="confirm-datetime"></span>
                        </div>
                        <div class="summary-row">
                            <span>ÊâÄË¶ÅÊôÇÈñì</span>
                            <span id="confirm-duration"></span>
                        </div>
                        <div class="summary-row">
                            <span>ÂêàË®àÈáëÈ°ç</span>
                            <span id="confirm-price"></span>
                        </div>
                    </div>
                </div>
                <button class="continue-btn" onclick="completeReservation()">‰∫àÁ¥Ñ„ÇíÁ¢∫ÂÆö„Åô„Çã</button>
            </div>
            
            <!-- ÂÆå‰∫ÜÁîªÈù¢ -->
            <div class="page" id="complete-page">
                <div class="header">
                    <span></span>
                    <span>‰∫àÁ¥ÑÂÆå‰∫Ü</span>
                    <span></span>
                </div>
                <div class="content" style="text-align: center; padding-top: 50px;">
                    <div style="font-size: 60px; margin-bottom: 20px;">‚úÖ</div>
                    <h2 style="margin-bottom: 20px; color: #34C759;">‰∫àÁ¥Ñ„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„ÅüÔºÅ</h2>
                    <p style="color: #8E8E93; margin-bottom: 40px;">
                        ‰∫àÁ¥ÑÁ¢∫Ë™ç„É°„Éº„É´„ÇíÈÄÅ‰ø°„ÅÑ„Åü„Åó„Åæ„Åô„ÄÇ<br>
                        ÂΩìÊó•„ÅØ„ÅäÊôÇÈñì„Å´‰ΩôË£ï„ÇíÊåÅ„Å£„Å¶„ÅäË∂ä„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ
                    </p>
                    <button class="continue-btn" onclick="resetApp()">Êñ∞„Åó„ÅÑ‰∫àÁ¥Ñ„Çí„Åô„Çã</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // „Ç¢„Éó„É™„ÅÆÁä∂ÊÖãÁÆ°ÁêÜ
        let appState = {
            currentPage: 'menu-page',
            selectedMenu: null,
            selectedOptions: [],
            selectedStaff: null,
            selectedDate: null,
            selectedTime: null,
            totalDuration: 0,
            totalPrice: 0
        };

        // „Éö„Éº„Ç∏ÈÅ∑Áßª
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
            appState.currentPage = pageId;
        }

        function goBack() {
            const pages = ['menu-page', 'option-page', 'staff-page', 'date-page', 'time-page', 'confirm-page'];
            const currentIndex = pages.indexOf(appState.currentPage);
            if (currentIndex > 0) {
                showPage(pages[currentIndex - 1]);
            }
        }

        // „É°„Éã„É•„ÉºÈÅ∏Êäû
        function selectMenu(id, name, duration, price) {
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('selected');
            });
            event.target.closest('.menu-item').classList.add('selected');
            
            appState.selectedMenu = { id, name, duration, price };
            appState.totalDuration = duration;
            appState.totalPrice = price;
            
            setTimeout(() => {
                showPage('option-page');
                updateDurationInfo();
            }, 300);
        }

        // „Ç™„Éó„Ç∑„Éß„É≥ÈÅ∏Êäû
        function toggleOption(id, name, duration, price) {
            const checkbox = document.getElementById(id + '-checkbox');
            const existingIndex = appState.selectedOptions.findIndex(opt => opt.id === id);
            
            if (existingIndex === -1) {
                // ËøΩÂä†
                appState.selectedOptions.push({ id, name, duration, price });
                checkbox.classList.add('checked');
                appState.totalDuration += duration;
                appState.totalPrice += price;
            } else {
                // ÂâäÈô§
                const option = appState.selectedOptions[existingIndex];
                appState.selectedOptions.splice(existingIndex, 1);
                checkbox.classList.remove('checked');
                appState.totalDuration -= option.duration;
                appState.totalPrice -= option.price;
            }
            
            updateDurationInfo();
        }

        function updateDurationInfo() {
            document.getElementById('total-duration').textContent = appState.totalDuration + 'ÂàÜ';
        }

        function goToStaff() {
            showPage('staff-page');
        }

        // „Çπ„Çø„ÉÉ„ÉïÈÅ∏Êäû
        function selectStaff(id) {
            document.querySelectorAll('.staff-item').forEach(item => {
                item.classList.remove('selected');
            });
            event.target.closest('.staff-item').classList.add('selected');
            
            const staffNames = {
                'tanaka': '„Çø„Éä„Ç´ „Éü„Ç´',
                'sato': '„Çµ„Éà„Ç¶ „Éè„Éä„Ç≥',
                'yamada': '„É§„Éû„ÉÄ „Çø„É≠„Ç¶'
            };
            
            appState.selectedStaff = { id, name: staffNames[id] };
            document.getElementById('staff-continue-btn').disabled = false;
        }

        function goToDate() {
            showPage('date-page');
            generateDateGrid();
        }

        // Êó•‰ªòÈÅ∏Êäû
        function generateDateGrid() {
            const grid = document.getElementById('date-grid');
            grid.innerHTML = '';
            
            const today = new Date();
            const tomorrow = new Date(today);
            tomorrow.setDate(today.getDate() + 1);
            
            // ÊõúÊó•„Éò„ÉÉ„ÉÄ„Éº
            const weekdays = ['Êó•', 'Êúà', 'ÁÅ´', 'Ê∞¥', 'Êú®', 'Èáë', 'Âúü'];
            weekdays.forEach(day => {
                const dayHeader = document.createElement('div');
                dayHeader.textContent = day;
                dayHeader.style.fontWeight = 'bold';
                dayHeader.style.color = '#8E8E93';
                dayHeader.style.textAlign = 'center';
                dayHeader.style.padding = '8px';
                grid.appendChild(dayHeader);
            });
            
            // Êó•‰ªòÁîüÊàêÔºàÊòéÊó•„Åã„Çâ90Êó•Âæå„Åæ„ÅßÔºâ
            for (let i = 1; i <= 90; i++) {
                const date = new Date(today);
                date.setDate(today.getDate() + i);
                
                const dateItem = document.createElement('div');
                dateItem.className = 'date-item';
                dateItem.textContent = date.getDate();
                dateItem.onclick = () => selectDate(date);
                
                if (i <= 14) { // ÊúÄÂàù„ÅÆ2ÈÄ±Èñì„Å†„ÅëË°®Á§∫
                    grid.appendChild(dateItem);
                }
            }
        }

        function selectDate(date) {
            document.querySelectorAll('.date-item').forEach(item => {
                item.classList.remove('selected');
            });
            event.target.classList.add('selected');
            
            appState.selectedDate = date;
            document.getElementById('date-continue-btn').disabled = false;
        }

        function goToTime() {
            showPage('time-page');
            generateTimeGrid();
            updateSelectedDateDisplay();
        }

        // ÊôÇÈñìÈÅ∏Êäû
        function generateTimeGrid() {
            const grid = document.getElementById('time-grid');
            grid.innerHTML = '';
            
            const times = ['09:00', '09:30', '10:00', '10:30', '11:00', '11:30', 
                          '13:00', '13:30', '14:00', '14:30', '15:00', '15:30',
                          '16:00', '16:30', '17:00', '17:30'];
            
            times.forEach(time => {
                const timeSlot = document.createElement('div');
                timeSlot.className = 'time-slot';
                timeSlot.textContent = time;
                
                // „É©„É≥„ÉÄ„É†„Å´‰∏ÄÈÉ®„Çí‰∫àÁ¥ÑÊ∏à„Åø„Å´„Åô„Çã
                if (Math.random() < 0.3) {
                    timeSlot.classList.add('unavailable');
                } else {
                    timeSlot.onclick = () => selectTime(time);
                }
                
                grid.appendChild(timeSlot);
            });
        }

        function selectTime(time) {
            document.querySelectorAll('.time-slot').forEach(slot => {
                slot.classList.remove('selected');
            });
            event.target.classList.add('selected');
            
            appState.selectedTime = time;
            document.getElementById('time-continue-btn').disabled = false;
        }

        function updateSelectedDateDisplay() {
            const date = appState.selectedDate;
            const formatted = `${date.getMonth() + 1}/${date.getDate()}(${['Êó•','Êúà','ÁÅ´','Ê∞¥','Êú®','Èáë','Âúü'][date.getDay()]})`;
            document.getElementById('selected-date-display').textContent = formatted;
        }

        function goToConfirm() {
            showPage('confirm-page');
            updateConfirmationDetails();
        }

        // Á¢∫Ë™çÁîªÈù¢
        function updateConfirmationDetails() {
            document.getElementById('confirm-menu').textContent = appState.selectedMenu.name;
            
            const optionsText = appState.selectedOptions.length > 0 
                ? appState.selectedOptions.map(opt => opt.name).join(', ')
                : '„Å™„Åó';
            document.getElementById('confirm-options').textContent = optionsText;
            
            document.getElementById('confirm-staff').textContent = appState.selectedStaff.name;
            
            const date = appState.selectedDate;
            const dateText = `${date.getMonth() + 1}/${date.getDate()}(${['Êó•','Êúà','ÁÅ´','Ê∞¥','Êú®','Èáë','Âúü'][date.getDay()]}) ${appState.selectedTime}`;
            document.getElementById('confirm-datetime').textContent = dateText;
            
            document.getElementById('confirm-duration').textContent = appState.totalDuration + 'ÂàÜ';
            document.getElementById('confirm-price').textContent = '¬•' + appState.totalPrice.toLocaleString();
        }

        function completeReservation() {
            showPage('complete-page');
        }

        function resetApp() {
            // Áä∂ÊÖã„Çí„É™„Çª„ÉÉ„Éà
            appState = {
                currentPage: 'menu-page',
                selectedMenu: null,
                selectedOptions: [],
                selectedStaff: null,
                selectedDate: null,
                selectedTime: null,
                totalDuration: 0,
                totalPrice: 0
            };
            
            // UI „Çí„É™„Çª„ÉÉ„Éà
            document.querySelectorAll('.selected').forEach(el => el.classList.remove('selected'));
            document.querySelectorAll('.checked').forEach(el => el.classList.remove('checked'));
            document.querySelectorAll('.continue-btn').forEach(btn => btn.disabled = true);
            
            showPage('menu-page');
        }
    </script>
</body>
</html>